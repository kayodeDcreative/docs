---
title: Authentication
description: 'Multiple authentication methods from simple email/password to advanced SSO integration'
---

The Gately SDK provides multiple authentication methods to suit different use cases. From simple email/password to advanced SSO integration.

## Email/Password Authentication

Traditional email and password authentication with secure token management.

```javascript
import { GatelyBrowserClient } from '@gately/sdk'

const gately = new GatelyBrowserClient('your-project-id')

// Sign up a new user
try {
  const response = await gately.signup('user@example.com', 'password123', {
    tier: 'basic',
    role: 'user'
  })
  console.log('User created:', response.user)
} catch (error) {
  console.error('Signup failed:', error.message)
}

// Sign in an existing user
try {
  const response = await gately.login('user@example.com', 'password123')
  console.log('User logged in:', response.user)
} catch (error) {
  console.error('Login failed:', error.message)
}

// Check authentication status
if (gately.isAuthenticated()) {
  const user = gately.getUser()
  console.log('Current user:', user)
}
```

## Magic Link Authentication

Passwordless authentication using secure email links.

```javascript
// Send magic link
try {
  await gately.sendMagicLink('user@example.com', {
    redirectTo: 'https://yourapp.com/dashboard'
  })
  console.log('Magic link sent successfully')
} catch (error) {
  console.error('Failed to send magic link:', error.message)
}

// The user clicks the link in their email and gets redirected back
// The SDK automatically handles the authentication flow
```

<Note>
Magic links are automatically handled when users return to your application. No additional code is required to process the authentication.
</Note>

## Session Management

The SDK automatically handles session persistence and token refresh.

```javascript
// Get current session
const session = gately.getSession()
if (session) {
  console.log('Access token:', session.access_token)
  console.log('Expires at:', new Date(session.expires_at))
}

// Get current user
const user = gately.getUser()
if (user) {
  console.log('User email:', user.email)
  console.log('User ID:', user.id)
  console.log('Created at:', user.created_at)
}

// Logout
try {
  await gately.logout()
  console.log('User logged out successfully')
} catch (error) {
  console.error('Logout failed:', error.message)
}

// Listen for auth state changes
gately.onAuthStateChange((user, session) => {
  if (user) {
    console.log('User logged in:', user.email)
  } else {
    console.log('User logged out')
  }
})
```

## React Hook Usage

Use the React hook for reactive authentication state.

```jsx
import { useGately } from '@gately/sdk'

function LoginForm() {
  const { user, login, logout, loading, error } = useGately('your-project-id')
  
  const handleLogin = async (e) => {
    e.preventDefault()
    const formData = new FormData(e.target)
    
    try {
      await login(
        formData.get('email'),
        formData.get('password')
      )
    } catch (error) {
      console.error('Login failed:', error)
    }
  }
  
  if (loading) return <div>Loading...</div>
  
  if (user) {
    return (
      <div>
        <p>Welcome, {user.email}!</p>
        <button onClick={logout}>Logout</button>
      </div>
    )
  }
  
  return (
    <form onSubmit={handleLogin}>
      <input name="email" type="email" placeholder="Email" required />
      <input name="password" type="password" placeholder="Password" required />
      <button type="submit">Login</button>
      {error && <p className="error">{error}</p>}
    </form>
  )
}
```

## Password Reset

Allow users to reset their passwords securely.

```javascript
// Send password reset email
try {
  await gately.resetPassword('user@example.com')
  console.log('Password reset email sent')
} catch (error) {
  console.error('Failed to send reset email:', error.message)
}

// The user clicks the reset link and sets a new password
// The SDK handles the reset flow automatically
```

## Error Handling

Proper error handling for authentication operations.

```javascript
try {
  await gately.login('user@example.com', 'wrongpassword')
} catch (error) {
  if (error.code === 'INVALID_CREDENTIALS') {
    console.log('Invalid email or password')
  } else if (error.code === 'USER_NOT_FOUND') {
    console.log('User does not exist')
  } else if (error.code === 'RATE_LIMITED') {
    console.log('Too many attempts, try again later')
  } else {
    console.log('Authentication failed:', error.message)
  }
}
```

### Common Error Codes

<ResponseField name="INVALID_CREDENTIALS" type="string">
  Wrong email/password combination
</ResponseField>

<ResponseField name="USER_NOT_FOUND" type="string">
  User doesn't exist in the system
</ResponseField>

<ResponseField name="EMAIL_NOT_CONFIRMED" type="string">
  Email address not verified
</ResponseField>

<ResponseField name="RATE_LIMITED" type="string">
  Too many authentication attempts
</ResponseField>

<ResponseField name="NETWORK_ERROR" type="string">
  Connection or network issues
</ResponseField>

## Authentication State

Monitor and react to authentication state changes.

```javascript
// Check if user is authenticated
const isAuth = gately.isAuthenticated()

// Get current user data
const user = gately.getUser()
if (user) {
  console.log('User ID:', user.id)
  console.log('Email:', user.email)
  console.log('Name:', user.name)
  console.log('Avatar:', user.avatar_url)
  console.log('Created:', user.created_at)
  console.log('Last Sign In:', user.last_sign_in_at)
}

// Get session data
const session = gately.getSession()
if (session) {
  console.log('Access Token:', session.access_token)
  console.log('Refresh Token:', session.refresh_token)
  console.log('Expires At:', new Date(session.expires_at))
}

// Listen for auth state changes
const unsubscribe = gately.onAuthStateChange((user, session) => {
  if (user) {
    console.log('User authenticated:', user.email)
  } else {
    console.log('User signed out')
  }
})

// Remove listener when done
gately.offAuthStateChange(unsubscribe)
```

## Best Practices

<CardGroup cols={2}>
  <Card title="Security" icon="shield">
    - Always validate user input
    - Use HTTPS in production
    - Implement rate limiting
    - Store sensitive data securely
  </Card>
  <Card title="User Experience" icon="heart">
    - Provide clear error messages
    - Show loading states
    - Remember user preferences
    - Implement auto-logout for security
  </Card>
</CardGroup>

## Next Steps

<CardGroup cols={3}>
  <Card
    title="SSO Integration"
    icon="google"
    href="/sso"
  >
    Add Google and GitHub OAuth
  </Card>
  <Card
    title="User Management"
    icon="user"
    href="/user-management"
  >
    Manage user profiles and data
  </Card>
  <Card
    title="Examples"
    icon="code"
    href="/examples"
  >
    View authentication examples
  </Card>
</CardGroup>