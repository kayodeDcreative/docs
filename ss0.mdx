---
title: SSO Integration
description: 'Single Sign-On with Google, GitHub, and other OAuth providers'
---

Single Sign-On (SSO) allows users to authenticate using their existing accounts from popular providers like Google and GitHub. The Gately SDK supports both popup and redirect modes.

## Google OAuth

Authenticate users with their Google accounts using OAuth 2.0.

```javascript
import { GatelyBrowserClient } from '@gately/sdk'

const gately = new GatelyBrowserClient('your-project-id')

// Popup mode (default)
try {
  await gately.loginWithGoogle()
  console.log('Google login successful')
} catch (error) {
  console.error('Google login failed:', error.message)
}

// Redirect mode
try {
  await gately.loginWithGoogle({
    mode: 'redirect',
    redirectUrl: 'https://yourapp.com/dashboard'
  })
  // User will be redirected to Google
} catch (error) {
  console.error('Google login failed:', error.message)
}

// Custom popup options
try {
  await gately.loginWithGoogle({
    mode: 'popup',
    popupOptions: {
      width: 600,
      height: 700,
      scrollbars: true,
      resizable: true
    }
  })
} catch (error) {
  console.error('Google login failed:', error.message)
}
```

## GitHub OAuth

Authenticate users with their GitHub accounts using OAuth 2.0.

```javascript
// GitHub SSO with popup mode
try {
  await gately.loginWithGithubSSO({
    mode: 'popup',
    popupOptions: {
      width: 500,
      height: 600
    }
  })
  console.log('GitHub login successful')
} catch (error) {
  console.error('GitHub login failed:', error.message)
}

// GitHub SSO with redirect mode
try {
  await gately.loginWithGithubSSO({
    mode: 'redirect',
    redirectUrl: window.location.href
  })
  // User will be redirected to GitHub
} catch (error) {
  console.error('GitHub login failed:', error.message)
}
```

## SSO Modes

### Popup Mode

Opens a popup window for authentication. The user stays on your page and the popup closes automatically after authentication.

```javascript
// Popup mode example
await gately.loginWithGoogle({
  mode: 'popup',
  popupOptions: {
    width: 500,      // Popup width in pixels
    height: 600,     // Popup height in pixels
    scrollbars: true, // Show scrollbars
    resizable: true   // Allow resizing
  }
})
```

<CardGroup cols={2}>
  <Card title="Advantages" icon="thumbs-up">
    - User stays on your page
    - No page reload required
    - Better user experience
    - Can handle authentication errors gracefully
  </Card>
  <Card title="Disadvantages" icon="thumbs-down">
    - May be blocked by popup blockers
    - Limited screen space on mobile devices
  </Card>
</CardGroup>

### Redirect Mode

Redirects the entire page to the OAuth provider. After authentication, the user is redirected back to your application.

```javascript
// Redirect mode example
await gately.loginWithGoogle({
  mode: 'redirect',
  redirectUrl: 'https://yourapp.com/dashboard'
})
```

<CardGroup cols={2}>
  <Card title="Advantages" icon="thumbs-up">
    - Works on all devices
    - Not blocked by popup blockers
    - Better for mobile applications
  </Card>
  <Card title="Disadvantages" icon="thumbs-down">
    - Page reload required
    - User leaves your application temporarily
    - Need to handle redirect parameters
  </Card>
</CardGroup>

## OAuth Redirect Handling

When using redirect mode, you need to handle the OAuth callback on your page.

```javascript
// Handle OAuth redirect on page load
function handleOAuthRedirect() {
  const url = new URL(window.location.href)
  const authSuccess = url.searchParams.get('gately_auth_success')
  const sessionParam = url.searchParams.get('gately_session')
  const userParam = url.searchParams.get('gately_user')

  if (authSuccess === 'true' && sessionParam && userParam) {
    try {
      // The SDK automatically handles session restoration
      console.log('OAuth authentication successful')
      
      // Clean up URL parameters
      url.searchParams.delete('gately_auth_success')
      url.searchParams.delete('gately_session')
      url.searchParams.delete('gately_user')
      
      // Update URL without parameters
      window.history.replaceState({}, '', url.toString())
      
      // Redirect to dashboard or show success message
      showSuccessMessage('Successfully logged in!')
    } catch (error) {
      console.error('Failed to handle OAuth redirect:', error)
      showErrorMessage('Authentication failed. Please try again.')
    }
  }
}

// Call this function on page load
document.addEventListener('DOMContentLoaded', handleOAuthRedirect)

// Or in React
useEffect(() => {
  handleOAuthRedirect()
}, [])
```

## React SSO Example

Complete React component with SSO integration.

```jsx
import React, { useState } from 'react'
import { useGately } from '@gately/sdk'

function SSOLogin() {
  const { loginWithGoogle, loginWithGithubSSO, user, logout, loading, error } = useGately('your-project-id')
  const [ssoLoading, setSsoLoading] = useState(false)

  const handleGoogleLogin = async () => {
    setSsoLoading(true)
    try {
      await loginWithGoogle({
        mode: 'popup',
        popupOptions: { width: 500, height: 600 }
      })
    } catch (error) {
      console.error('Google login failed:', error)
    } finally {
      setSsoLoading(false)
    }
  }

  const handleGithubLogin = async () => {
    setSsoLoading(true)
    try {
      await loginWithGithubSSO({
        mode: 'redirect',
        redirectUrl: window.location.href
      })
    } catch (error) {
      console.error('GitHub login failed:', error)
      setSsoLoading(false)
    }
  }

  if (user) {
    return (
      <div className="user-info">
        <h3>Welcome, {user.email}!</h3>
        <p>You are logged in via SSO</p>
        <button onClick={logout}>Logout</button>
      </div>
    )
  }

  return (
    <div className="sso-login">
      <h2>Sign in with SSO</h2>
      
      <button 
        onClick={handleGoogleLogin}
        disabled={ssoLoading || loading}
        className="google-btn"
      >
        {ssoLoading ? 'Signing in...' : 'Sign in with Google'}
      </button>

      <button 
        onClick={handleGithubLogin}
        disabled={ssoLoading || loading}
        className="github-btn"
      >
        {ssoLoading ? 'Signing in...' : 'Sign in with GitHub'}
      </button>

      {error && <p className="error">{error}</p>}
    </div>
  )
}

export default SSOLogin
```

## SSO Configuration

<Warning>
Before using SSO, you need to configure your OAuth providers in the Gately dashboard.
</Warning>

### Google OAuth Setup

1. Go to the Google Cloud Console
2. Create a new project or select an existing one
3. Enable the Google+ API
4. Create OAuth 2.0 credentials
5. Add authorized redirect URIs: `https://sdk.usegately.com/api/sdk/auth/google`
6. Copy the Client ID and Client Secret to your Gately dashboard

### GitHub OAuth Setup

1. Go to GitHub Settings → Developer settings → OAuth Apps
2. Create a new OAuth App
3. Set the Authorization callback URL to: `https://sdk.usegately.com/api/sdk/auth/github`
4. Copy the Client ID and Client Secret to your Gately dashboard

## SSO Options

<ResponseField name="mode" type="'popup' | 'redirect'" default="'popup'">
  Authentication mode
</ResponseField>

<ResponseField name="redirectUrl" type="string" default="window.location.href">
  URL to redirect to after authentication
</ResponseField>

<ResponseField name="popupOptions.width" type="number" default="500">
  Popup window width in pixels
</ResponseField>

<ResponseField name="popupOptions.height" type="number" default="600">
  Popup window height in pixels
</ResponseField>

<ResponseField name="popupOptions.scrollbars" type="boolean" default="true">
  Show scrollbars in popup
</ResponseField>

<ResponseField name="popupOptions.resizable" type="boolean" default="true">
  Allow popup resizing
</ResponseField>

## Best Practices

<AccordionGroup>
  <Accordion title="Choose the Right Mode">
    - Use popup mode for desktop applications
    - Use redirect mode for mobile applications
    - Consider user experience and popup blockers
  </Accordion>
  
  <Accordion title="Error Handling">
    - Always handle authentication errors gracefully
    - Provide fallback authentication methods
    - Show appropriate error messages to users
  </Accordion>
  
  <Accordion title="Security">
    - Validate redirect URLs to prevent open redirects
    - Use HTTPS in production
    - Implement proper session management
  </Accordion>
  
  <Accordion title="User Experience">
    - Show loading states during authentication
    - Provide clear instructions for users
    - Handle edge cases like popup blockers
  </Accordion>
</AccordionGroup>

## Next Steps

<CardGroup cols={3}>
  <Card
    title="Authentication"
    icon="key"
    href="/authentication"
  >
    Learn about basic authentication
  </Card>
  <Card
    title="User Management"
    icon="user"
    href="/user-management"
  >
    Manage user profiles and data
  </Card>
  <Card
    title="Examples"
    icon="code"
    href="/examples"
  >
    View SSO integration examples
  </Card>
</CardGroup>